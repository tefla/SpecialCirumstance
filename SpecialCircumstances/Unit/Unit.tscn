[gd_scene load_steps=10 format=3 uid="uid://du2egy7wh8ox0"]

[ext_resource type="Script" path="res://Unit/Unit.gd" id="1_3nu70"]
[ext_resource type="Texture2D" uid="uid://12saswfqmfq0" path="res://Assets/tank_blue.png" id="1_5huqg"]
[ext_resource type="Script" path="res://Movable.gd" id="2_uu8bx"]
[ext_resource type="PackedScene" uid="uid://b5hj4c3fyono4" path="res://Tasks/ContainerTask.tscn" id="4_780wi"]
[ext_resource type="Script" path="res://Tasks/Seq.gd" id="5_8v0q0"]
[ext_resource type="PackedScene" uid="uid://dnnuf3l6reb37" path="res://Tasks/Task.tscn" id="5_h5pfi"]
[ext_resource type="Script" path="res://Tasks/MoveTo.gd" id="7_c1vn8"]

[sub_resource type="CircleShape2D" id="CircleShape2D_xjd21"]
radius = 23.84

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_uhn4j"]

[node name="Unit" type="CharacterBody2D" node_paths=PackedStringArray("movable", "root")]
script = ExtResource("1_3nu70")
movable = NodePath("Movable")
root = NodePath("GUI/CanvasGroup/Panel/VBoxContainer/VBoxContainer/ContainerTask")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("1_5huqg")

[node name="Movable" type="Node2D" parent="." node_paths=PackedStringArray("agent", "root")]
script = ExtResource("2_uu8bx")
agent = NodePath("NavigationAgent2D")
root = NodePath("..")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="Movable"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_xjd21")

[node name="GUI" type="Node2D" parent="."]

[node name="CanvasGroup" type="CanvasLayer" parent="GUI"]

[node name="Panel" type="PanelContainer" parent="GUI/CanvasGroup"]
custom_minimum_size = Vector2(600, 0)
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -600.0
grow_horizontal = 0
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxTexture_uhn4j")

[node name="VBoxContainer" type="VBoxContainer" parent="GUI/CanvasGroup/Panel"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="GUI/CanvasGroup/Panel/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="ContainerTask" parent="GUI/CanvasGroup/Panel/VBoxContainer/VBoxContainer" instance=ExtResource("4_780wi")]
layout_mode = 2
script = ExtResource("5_8v0q0")

[node name="Task" parent="GUI/CanvasGroup/Panel/VBoxContainer/VBoxContainer/ContainerTask/ChildrenContainer/Children" index="0" node_paths=PackedStringArray("movable") instance=ExtResource("5_h5pfi")]
layout_mode = 2
script = ExtResource("7_c1vn8")
movable = NodePath("../../../../../../../../../Movable")
pos = Vector2(0, 0)

[node name="Task2" parent="GUI/CanvasGroup/Panel/VBoxContainer/VBoxContainer/ContainerTask/ChildrenContainer/Children" index="1" node_paths=PackedStringArray("movable") instance=ExtResource("5_h5pfi")]
layout_mode = 2
script = ExtResource("7_c1vn8")
movable = NodePath("../../../../../../../../../Movable")
pos = Vector2(300, 300)

[node name="HBoxContainer" type="HBoxContainer" parent="GUI/CanvasGroup/Panel/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4

[node name="Button" type="Button" parent="GUI/CanvasGroup/Panel/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "Run
"

[connection signal="pressed" from="GUI/CanvasGroup/Panel/VBoxContainer/HBoxContainer/Button" to="." method="_on_button_pressed"]

[editable path="GUI/CanvasGroup/Panel/VBoxContainer/VBoxContainer/ContainerTask"]
[editable path="GUI/CanvasGroup/Panel/VBoxContainer/VBoxContainer/ContainerTask/ChildrenContainer/Children/Task"]
[editable path="GUI/CanvasGroup/Panel/VBoxContainer/VBoxContainer/ContainerTask/ChildrenContainer/Children/Task2"]
